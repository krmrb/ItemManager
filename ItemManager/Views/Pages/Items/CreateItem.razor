<div style="max-width: 600px; margin: 0 auto; padding: 20px;">
   <h2 style="color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 10px;">
      📝 Créer un Item
   </h2>

   <!-- Formulaire simple -->
   <div style="margin-bottom: 20px;">
      <label style="display: block; font-weight: bold; margin-bottom: 5px; color: #2c3e50;">
         Titre *
      </label>
      <input type="text" @bind="NewItem.Title" placeholder="Titre de la tâche"
             style="width: 100%; padding: 10px; border: 1px solid #bdc3c7; border-radius: 5px;" />
   </div>

   <div style="margin-bottom: 20px;">
      <label style="display: block; font-weight: bold; margin-bottom: 5px; color: #2c3e50;">
         Description
      </label>
      <textarea @bind="NewItem.Description" placeholder="Décrivez cette tâche..."
                rows="3" style="width: 100%; padding: 10px; border: 1px solid #bdc3c7; border-radius: 5px;"></textarea>
   </div>

   <div style="margin-bottom: 20px;">
      <label style="display: block; font-weight: bold; margin-bottom: 5px; color: #2c3e50;">
         Date
      </label>
      <input type="date" @bind="NewItem.Date"
             style="padding: 10px; border: 1px solid #bdc3c7; border-radius: 5px;" />
   </div>

   <!-- Boutons -->
   <div style="display: flex; gap: 10px; justify-content: flex-end; margin-top: 30px;">
      <button @onclick="Cancel"
              style="padding: 10px 20px; border: 1px solid #bdc3c7; background: white; border-radius: 5px; color: #7f8c8d;">
         Annuler
      </button>
      <button @onclick="SaveItem"
              style="padding: 10px 20px; background: #3498db; color: white; border: none; border-radius: 5px;">
         Enregistrer
      </button>
   </div>
</div>

@code {
   private ItemManagerClient.Models.Item NewItem { get; set; } = new();

   protected override void OnInitialized()
   {
      NewItem.Date = DateTime.Today;
   }

   private void SaveItem()
   {
      if (string.IsNullOrWhiteSpace(NewItem.Title))
      {
         return; // Validation simple
      }

      Console.WriteLine($"✅ Item créé: {NewItem.Title}");

      // Réinitialiser le formulaire
      NewItem = new ItemManagerClient.Models.Item { Date = DateTime.Today };
   }

   private void Cancel()
   {
      NewItem = new ItemManagerClient.Models.Item { Date = DateTime.Today };
   }
}