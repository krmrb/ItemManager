<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="ItemManagerClient.CreateItemPage"
             xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             Title="Cr√©er un item"
             BackgroundColor="Transparent">

   <!-- Cadre principal avec bordure -->
   <Border WidthRequest="500"
            HeightRequest="700"
            HorizontalOptions="Center"
            VerticalOptions="Center"
            BackgroundColor="White"
            Stroke="#e0e0e0"
            StrokeThickness="1"
            StrokeShape="RoundRectangle 10"
            Shadow="Small">

      <Grid RowDefinitions="Auto,*,Auto" 
              RowSpacing="0">

         <!-- En-t√™te modal - RECTANGLE avec coins arrondis seulement en haut -->
         <Border Grid.Row="0" 
                    BackgroundColor="#2c3e50" 
                    Padding="20,15"
                    StrokeShape="RoundRectangle 10,10,0,0">
            <Grid ColumnDefinitions="*,Auto">
               <Label Grid.Column="0" 
                           Text="üìù Cr√©er un nouvel Item" 
                           TextColor="White" 
                           FontSize="18" 
                           FontAttributes="Bold"
                           VerticalOptions="Center"/>
               <Button Grid.Column="1" 
                            Text="‚úï" 
                            BackgroundColor="Transparent"
                            TextColor="White"
                            FontSize="16"
                            FontAttributes="Bold"
                            WidthRequest="40"
                            HeightRequest="40"
                            CornerRadius="20"
                            Clicked="OnCloseClicked"/>
            </Grid>
         </Border>

         <!-- Contenu du formulaire -->
         <ScrollView Grid.Row="1" Padding="25,20">
            <VerticalStackLayout Spacing="20">

               <!-- Titre -->
               <VerticalStackLayout Spacing="8">
                  <Label Text="T√¢che *" 
                               FontAttributes="Bold" 
                               TextColor="#2c3e50" 
                               FontSize="15"/>
                  <Entry x:Name="TitleEntry" 
                               Placeholder="Titre de la t√¢che" 
                               BackgroundColor="#f8f9fa"
                               HeightRequest="50"
                               FontSize="15"
                               ClearButtonVisibility="WhileEditing"/>
               </VerticalStackLayout>

               <!-- Description -->
               <VerticalStackLayout Spacing="8">
                  <Label Text="Description" 
                               FontAttributes="Bold" 
                               TextColor="#2c3e50" 
                               FontSize="15"/>
                  <Editor x:Name="DescriptionEditor" 
                                Placeholder="D√©crivez cette t√¢che..." 
                                BackgroundColor="#f8f9fa"
                                HeightRequest="100"
                                FontSize="15"
                                AutoSize="TextChanges"/>
               </VerticalStackLayout>

               <!-- Date et Heure -->
               <Grid ColumnDefinitions="*,*" ColumnSpacing="15">
                  <!-- Date -->
                  <VerticalStackLayout Grid.Column="0" Spacing="8">
                     <Label Text="Date *" 
                                   FontAttributes="Bold" 
                                   TextColor="#2c3e50" 
                                   FontSize="15"/>
                     <DatePicker x:Name="DatePicker" 
                                        BackgroundColor="#f8f9fa"
                                        HeightRequest="50"/>
                  </VerticalStackLayout>

                  <!-- Heures -->
                  <VerticalStackLayout Grid.Column="1" Spacing="8">
                     <Label Text="Heure *" 
                                   FontAttributes="Bold" 
                                   TextColor="#2c3e50" 
                                   FontSize="15"/>
                     <Grid ColumnDefinitions="*,Auto,*" ColumnSpacing="8">
                        <TimePicker x:Name="StartTimePicker"
                                            Grid.Column="0"
                                            BackgroundColor="#f8f9fa"
                                            HeightRequest="50"/>
                        <Label Grid.Column="1" 
                                       Text="√†" 
                                       VerticalOptions="Center" 
                                       HorizontalOptions="Center"
                                       FontSize="15"
                                       TextColor="#2c3e50"/>
                        <TimePicker x:Name="EndTimePicker"
                                            Grid.Column="2"
                                            BackgroundColor="#f8f9fa"
                                            HeightRequest="50"/>
                     </Grid>
                  </VerticalStackLayout>
               </Grid>

               <!-- Statut et Cat√©gorie -->
               <Grid ColumnDefinitions="*,*" ColumnSpacing="15">
                  <!-- Statut -->
                  <VerticalStackLayout Grid.Column="0" Spacing="8">
                     <Label Text="Statut *" 
                                   FontAttributes="Bold" 
                                   TextColor="#2c3e50" 
                                   FontSize="15"/>
                     <Picker x:Name="StatusPicker" 
                                    Title="S√©lectionnez un statut"
                                    BackgroundColor="#f8f9fa"
                                    HeightRequest="75"
                                    FontSize="15">
                        <Picker.ItemsSource>
                           <x:Array Type="{x:Type x:String}">
                              <x:String>üìù Brouillon</x:String>
                              <x:String>üîì Ouvert</x:String>
                              <x:String>‚è≥ En attente</x:String>
                              <x:String>‚ùå Annul√©</x:String>
                              <x:String>‚úÖ Ferm√©</x:String>
                           </x:Array>
                        </Picker.ItemsSource>
                     </Picker>
                  </VerticalStackLayout>

                  <!-- Cat√©gorie -->
                  <VerticalStackLayout Grid.Column="1" Spacing="8">
                     <Label Text="Cat√©gorie *" 
                                   FontAttributes="Bold" 
                                   TextColor="#2c3e50" 
                                   FontSize="15"/>
                     <Picker x:Name="CategoryPicker" 
                                    Title="S√©lectionnez une cat√©gorie"
                                    BackgroundColor="#f8f9fa"
                                    HeightRequest="75"
                                    FontSize="15">
                        <Picker.ItemsSource>
                           <x:Array Type="{x:Type x:String}">
                              <x:String>üìÖ R√©union</x:String>
                              <x:String>üìä Projet</x:String>
                              <x:String>üîß Maintenance</x:String>
                              <x:String>üéì Formation</x:String>
                              <x:String>üìã Reporting</x:String>
                              <x:String>‚ùì Autre</x:String>
                           </x:Array>
                        </Picker.ItemsSource>
                     </Picker>
                  </VerticalStackLayout>
               </Grid>

            </VerticalStackLayout>
         </ScrollView>

         <!-- Pied de page - RECTANGLE avec coins arrondis seulement en bas -->
         <Border Grid.Row="2" 
                    BackgroundColor="White" 
                    Padding="20,15"
                    StrokeShape="RoundRectangle 0,0,10,10">
            <Grid ColumnDefinitions="*,*" ColumnSpacing="15">
               <Button x:Name="CancelButton" 
                            Text="Annuler" 
                            BackgroundColor="#95a5a6"
                            TextColor="White"
                            Grid.Column="0"
                            CornerRadius="8"
                            HeightRequest="50"
                            FontSize="16"
                            Clicked="OnCancelButtonClicked"/>
               <Button x:Name="SaveButton" 
                            Text="Enregistrer" 
                            BackgroundColor="#3498db"
                            TextColor="White"
                            Grid.Column="1"
                            CornerRadius="8"
                            HeightRequest="50"
                            FontSize="16"
                            FontAttributes="Bold"
                            Clicked="OnSaveClicked"/>
            </Grid>
         </Border>

      </Grid>
   </Border>

</ContentPage>